---
import LogoUNE from "@/assets/Logos/une-enlinea.png";
import Layout from "@/layouts/Layout.astro";

import VideoBackground from "@/assets/Videos/Comercial.webm";

import { FileDown } from "@lucide/astro";
import CallAction from "@/components/sections/shared/CallAction.astro";
---

<Layout
  title="Admisiones UNE - Proceso de Inscripción y Requisitos"
  description="Proceso de admisión en Universidad UNE. Requisitos, fechas, documentos y pasos para inscribirte. 45 carreras disponibles con validez oficial UDG y SEP."
>
  <!-- Hero Section -->
  <section
    class="admisiones-bg relative min-h-[85vh] md:min-h-[65vh] bg-cover bg-center bg-no-repeat"
  >
    {/* Hero Content */}
    <div
      class="relative z-10 container mx-auto px-4 h-full min-h-[85vh] md:min-h-[65vh] flex flex-col justify-center"
    >
      <div class="text-white max-w-2xl">
        <h1 class="text-4xl md:text-6xl font-bold mb-4 leading-tight">
          ADMISIONES
        </h1>
        <p class="text-lg md:text-xl mb-8 leading-relaxed font-light">
          En UNE, tus metas son nuestro impulso.<br />
          ¡Descubre tu mejor versión con nosotros!
        </p>
        <a
          href="/contacto/formulario-inscripcion"
          class="bg-red-600 hover:bg-red-700 text-white px-8 py-4 rounded-lg font-semibold text-lg transition-colors duration-300 transform hover:scale-105"
          aria-label="Ir a INICIAR PROCESO"
          title="INICIAR PROCESO"
        >
          INICIAR PROCESO
        </a>
      </div>
    </div>
  </section>

  <!-- Process Steps -->
  <section class="py-16 bg-gray-50">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold text-center mb-12">
        ¿Cómo iniciar tu proceso de admisión?
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <div class="text-center">
          <div
            class="w-16 h-16 bg-red-600 text-white rounded-full flex items-center justify-center mx-auto mb-4 text-2xl font-bold"
          >
            1
          </div>
          <h3 class="text-xl font-bold mb-2">
            Explora las carreras y oferta académica
          </h3>
          <p class="text-gray-600">
            Conoce nuestras licenciaturas, ingenierías y programas de posgrado
            disponibles
          </p>
        </div>
        <div class="text-center">
          <div
            class="w-16 h-16 bg-red-600 text-white rounded-full flex items-center justify-center mx-auto mb-4 text-2xl font-bold"
          >
            2
          </div>
          <h3 class="text-xl font-bold mb-2">
            Elige carrera y modalidad preferida
          </h3>
          <p class="text-gray-600">
            Selecciona la carrera que más te interese y la modalidad que se
            adapte a tu estilo de vida
          </p>
        </div>
        <div class="text-center">
          <div
            class="w-16 h-16 bg-red-600 text-white rounded-full flex items-center justify-center mx-auto mb-4 text-2xl font-bold"
          >
            3
          </div>
          <h3 class="text-xl font-bold mb-2">
            Agenda visita o contacta un asesor
          </h3>
          <p class="text-gray-600">
            Conoce nuestras instalaciones, habla con asesores académicos y
            resuelve tus dudas
          </p>
        </div>
        <div class="text-center">
          <div
            class="w-16 h-16 bg-red-600 text-white rounded-full flex items-center justify-center mx-auto mb-4 text-2xl font-bold"
          >
            4
          </div>
          <h3 class="text-xl font-bold mb-2">Entrega tus documentos</h3>
          <p class="text-gray-600">
            Presenta la documentación requerida para completar tu proceso de
            admisión
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Requisitos  -->
  <section class="py-16 bg-white">
    <div class="px-4">
      <div class="max-w-7xl mx-auto">
        <p class="text-sm text-gray-600 mb-2">REQUISITOS</p>
        <h2 class="text-3xl font-bold mb-12">
          CONOCE LOS DOCUMENTOS QUE NECESITAS
        </h2>

        <!-- Tabs -->
        <div class="flex flex-wrap gap-2 mb-8 justify-end">
          <button
            class="tab-button px-6 py-2 rounded-full font-medium transition-all duration-300 bg-gray-200 text-gray-700 hover:bg-gray-300"
            data-tab="primaria"
            aria-label="Primaria"
            title="Primaria"
          >
            Primaria
          </button>
          <button
            class="tab-button px-6 py-2 rounded-full font-medium transition-all duration-300 bg-blue-900 text-white"
            data-tab="secundaria"
            aria-label="Secundaria"
            title="Secundaria"
          >
            Secundaria
          </button>
          <button
            class="tab-button px-6 py-2 rounded-full font-medium transition-all duration-300 bg-gray-200 text-gray-700 hover:bg-gray-300"
            data-tab="bachillerato"
            aria-label="Bachillerato"
            title="Bachillerato"
          >
            Bachillerato
          </button>
          <button
            class="tab-button px-6 py-2 rounded-full font-medium transition-all duration-300 bg-gray-200 text-gray-700 hover:bg-gray-300"
            data-tab="licenciatura"
            aria-label="Licenciatura"
            title="Licenciatura"
          >
            Licenciatura
          </button>
          <button
            class="tab-button px-6 py-2 rounded-full font-medium transition-all duration-300 bg-gray-200 text-gray-700 hover:bg-gray-300"
            data-tab="maestria"
            aria-label="Maestría"
            title="Maestría"
          >
            Maestría
          </button>
        </div>

        <!-- Content -->
        <div class="flex flex-col lg:flex-row gap-8">
          <!-- Vertical Text -->
          <div
            class="lg:w-1/3 flex justify-center lg:items-center lg:justify-center"
          >
            <div class="relative">
              <div
                id="vertical-text"
                class="text-4xl lg:text-6xl font-bold text-blue-900 lg:transform lg:-rotate-90 lg:origin-center whitespace-nowrap"
              >
                SECUNDARIA
              </div>
            </div>
          </div>

          <!-- Requirements Card -->
          <div
            class="lg:w-2/3 py-4 flex flex-col gap-4 items-center justify-center"
          >
            <div class="shadow-md rounded-lg w-full">
              <div
                id="requirements-list"
                class="space-y-4 px-6 pt-4 min-h-[220px] w-full relative overflow-hidden"
              >
                <!-- Logo UNE de fondo -->
                <div
                  class="absolute inset-0 flex items-center justify-center pointer-events-none z-0"
                >
                  <img
                    src={LogoUNE.src}
                    alt="UNE Logo"
                    class="w-32 h-32 md:w-40 md:h-40 lg:w-48 lg:h-48 opacity-50 object-contain select-none"
                  />
                </div>

                <!-- Requirements will be populated by JavaScript -->
                <div id="requirements-content" class="relative z-20 space-y-4">
                  <!-- Aquí van los requisitos dinámicos -->
                </div>
              </div>
              <div
                class="text-sm mt-6 py-6 bg-azul-une rounded-b-lg text-white text-center font-bold"
              >
                Todos los documentos originales y 3 copias
              </div>
            </div>

            <!-- Botón alineado a la derecha -->
            <div class="w-full flex justify-end">
              <!-- Botón de descarga -->
              <button
                id="download-button"
                class="border-2 border-green-600 text-green-600 px-8 py-3 rounded-lg hover:bg-green-50 transition-colors duration-300 flex items-center justify-center gap-2"
                aria-label="Descargar requisitos"
                title="Descargar requisitos"
              >
                <FileDown class="w-5 h-5" />
                Descargar requisitos
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <CallAction />
</Layout>

<script>
  // Datos de requisitos por nivel educativo
  const requirementsData = {
    primaria: {
      title: "PRIMARIA",
      requirements: [
        { icon: "document", text: "Acta de nacimiento (Original)" },
        { icon: "document", text: "Certificado total preescolar (Original)" },
        {
          icon: "document",
          text: "Boletas oficiales de grados anteriores (si aplica)",
        },
        { icon: "card", text: "CURP (Formato Renapo)" },
        { icon: "id", text: "INE del padre, madre o tutor (2 copias)" },
        {
          icon: "home",
          text: "Comprobante de domicilio reciente (1 copia, no mayor a 3 meses)",
        },
        {
          icon: "camera",
          text: "8 fotografías blanco y negro, papel mate, de estudio",
        },
      ],
    },
    secundaria: {
      title: "SECUNDARIA",
      requirements: [
        { icon: "document", text: "Acta de nacimiento (Original)" },
        { icon: "document", text: "Certificado total primaria (Original)" },
        {
          icon: "document",
          text: "Boletas oficiales de grados anteriores (si aplica a 2° o 3°)",
        },
        { icon: "card", text: "CURP (Formato Renapo)" },
        { icon: "id", text: "INE del padre, madre o tutor (2 copias)" },
        {
          icon: "home",
          text: "Comprobante de domicilio reciente (1 copia, no mayor a 3 meses)",
        },
        {
          icon: "camera",
          text: "8 fotografías blanco y negro, papel mate, de estudio",
        },
      ],
    },
    bachillerato: {
      title: "BACHILLERATO ",
      requirements: [
        { icon: "document", text: "Acta de nacimiento (Original)" },
        { icon: "document", text: "Certificado total secundaria (Original)" },
        {
          icon: "document",
          text: "Equivalencia o grado superior (Certificado parcial o Kardex)",
        },
        { icon: "card", text: "CURP (Formato Renapo)" },
        {
          icon: "id",
          text: "Identificación oficial con fotografía (2 copias)",
        },
        {
          icon: "home",
          text: "Comprobante de domicilio reciente (1 copia, no mayor a 3 meses)",
        },
        {
          icon: "camera",
          text: "8 fotografías blanco y negro, papel mate, de estudio",
        },
      ],
    },
    licenciatura: {
      title: "LICENCIATURA",
      requirements: [
        { icon: "document", text: "Acta de nacimiento (Original)" },
        { icon: "document", text: "Certificado total bachillerato (Original)" },
        {
          icon: "document",
          text: "Oficio de validación de autenticidad (emitido por autoridad)",
        },
        {
          icon: "document",
          text: "Equivalencia o grado superior (certificado parcial y contenidos temáticos)",
        },
        { icon: "card", text: "CURP (Formato Renapo)" },
        { icon: "id", text: "INE (2 copias)" },
        {
          icon: "home",
          text: "Comprobante de domicilio reciente (1 copia, no mayor a 3 meses)",
        },
        {
          icon: "camera",
          text: "8 fotografías blanco y negro, papel mate, de estudio",
        },
      ],
    },
    maestria: {
      title: "Maestrías",
      requirements: [
        { icon: "document", text: "Acta de nacimiento (Original)" },
        {
          icon: "document",
          text: "Título de nivel superior (PDF a color por ambos lados)",
        },
        {
          icon: "document",
          text: "Cédula Profesional (PDF a color por ambos lados)",
        },
        {
          icon: "document",
          text: "Certificado total de estudios de nivel superior (Original)",
        },
        {
          icon: "document",
          text: "Oficio de validación de autenticidad del certificado (emitido por autoridad)",
        },
        {
          icon: "document",
          text: "Equivalencia o grado superior (certificado parcial y contenidos temáticos)",
        },
        { icon: "card", text: "CURP (Formato Renapo)" },
        { icon: "id", text: "INE (2 copias)" },
        {
          icon: "home",
          text: "Comprobante de domicilio reciente (1 copia, no mayor a 3 meses)",
        },
        {
          icon: "camera",
          text: "8 fotografías blanco y negro, papel mate, de estudio",
        },
      ],
    },
  };

  // Función para obtener el icono SVG
  function getIcon(type) {
    const icons = {
      document: `<svg class="w-5 h-5 text-red-600 mt-1 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
      </svg>`,
      camera: `<svg class="w-5 h-5 text-red-600 mt-1 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path>
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path>
      </svg>`,
      card: `<svg class="w-5 h-5 text-red-600 mt-1 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
      </svg>`,
    };
    return icons[type] || icons.document;
  }

  // Función para renderizar requisitos
  function renderRequirements(levelKey) {
    const data = requirementsData[levelKey];
    const container = document.getElementById("requirements-content");
    const verticalText = document.getElementById("vertical-text");

    // Actualizar texto vertical
    verticalText.textContent = data.title;

    container.innerHTML = "";

    data.requirements.forEach((requirement, index) => {
      const item = document.createElement("div");
      item.className =
        "flex items-start space-x-3 opacity-0 transform translate-y-4 transition-all duration-300";
      item.style.transitionDelay = `${index * 100}ms`;

      item.innerHTML = `
      <div class="flex items-center space-x-2">
        ${getIcon(requirement.icon)}
        <span class="text-gray-800 leading-relaxed">${requirement.text}</span>
      </div>
    `;

      container.appendChild(item);

      // Trigger animation
      setTimeout(() => {
        item.classList.remove("opacity-0", "translate-y-4");
      }, 50);
    });
  }

  // Función para cambiar tab activo
  // Función para cambiar tab activo (CORREGIDA)
  function setActiveTab(activeTab) {
    const buttons = document.querySelectorAll(".tab-button");

    buttons.forEach((button) => {
      const tabName = button.getAttribute("data-tab");
      if (tabName === activeTab) {
        // Usar className en lugar de class
        button.className =
          "tab-button px-6 py-2 rounded-full font-medium transition-all duration-300 bg-blue-900 text-white transform scale-105";
      } else {
        // Usar className en lugar de class
        button.className =
          "tab-button px-6 py-2 rounded-full font-medium transition-all duration-300 bg-gray-200 text-gray-700 hover:bg-gray-300";
      }
    });
  }

  // Inicialización cuando el DOM esté listo
  document.addEventListener("DOMContentLoaded", function () {
    // Render inicial
    renderRequirements("secundaria");
    setActiveTab("secundaria");

    // Escucha de tabs
    const tabButtons = document.querySelectorAll(".tab-button");
    tabButtons.forEach((button) => {
      button.addEventListener("click", function () {
        const tabName = this.getAttribute("data-tab");
        setActiveTab(tabName);
        renderRequirements(tabName);
      });
    });

    // Lógica de descarga PDF
    const downloadButton = document.getElementById("download-button");
    downloadButton.addEventListener("click", function () {
      const activeTab = document.querySelector(".tab-button.bg-blue-900");
      if (!activeTab) return;

      const tab = activeTab.getAttribute("data-tab");
      let fileName = "";

      switch (tab) {
        case "primaria":
          fileName = "primaria_req.pdf";
          break;
        case "secundaria":
          fileName = "Secundaria-requsitos.pdf";
          break;
        case "bachillerato":
          fileName = "Bachillerato-requsitos.pdf";
          break;
        case "licenciatura":
          fileName = "Licenciatura-requsitos.pdf";
          break;
        case "maestria":
          fileName = "Posgrados.pdf";
          break;
      }

      // Descargar archivo
      const a = document.createElement("a");
      a.href = `/requisitos/${fileName}`;
      a.download = fileName;
      a.click();
    });
  });
</script>

<style>
  /* Estilos adicionales para mejorar la experiencia */
  .tab-button {
    user-select: none;
  }

  .tab-button:active {
    transform: scale(0.98);
  }

  /* Animación para el texto vertical */
  #vertical-text {
    transition: all 0.5s ease-in-out;
  }

  /* Responsive adjustments */
  @media (max-width: 1024px) {
    #vertical-text {
      transform: rotate(0deg) !important;
      font-size: 2rem;
      text-align: center;
      margin-bottom: 1rem;
    }
  }

  /* Hover effects */
  .tab-button:hover:not(.bg-blue-900) {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }

  /* Loading animation */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .fade-in-up {
    animation: fadeInUp 0.6s ease-out;
  }
</style>

<style>
  .admisiones-bg {
    background-image: url("/src/assets/Imagenes/Heros/Admision.webp");
  }

  @media (max-width: 767px) {
    .admisiones-bg {
      background-image: url("/src/assets/Imagenes/Heros/Admision_mobile.webp");
    }
  }
</style>
